# Snapshot report for `test/options/testing.js`

The actual snapshot is saved in `testing.js.snap`.

Generated by [AVA](https://ava.li).

## [ava] [multipleResolves] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `√ should make tests fail on multipleResolves␊
      ␊
        1 test passed`,
    }

## [ava] [multipleResolves] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on multipleResolves␊
      ␊
        Uncaught exception in   ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 uncaught exception`,
    }

## [ava] [multipleResolves] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on multipleResolves␊
      ␊
        Uncaught exception in       Then rejected with: Error: message␊
                at STACK TRACE␊
      ␊
        ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 uncaught exception`,
    }

## [ava] [multipleResolves] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on multipleResolves␊
      ␊
        Uncaught exception in       Then rejected with: Error: message␊
                at STACK TRACE␊
      ␊
        ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 uncaught exception`,
    }

## [ava] [rejectionHandled] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on rejectionHandled␊
      ␊
        Unhandled rejection in   Error: message␊
      ␊
      ␊
        1 test passed␊
        1 unhandled rejection`,
    }

## [ava] [rejectionHandled] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on rejectionHandled␊
      ␊
        Unhandled rejection in   Error: message␊
      ␊
        Uncaught exception in   ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 unhandled rejection␊
        1 uncaught exception`,
    }

## [ava] [rejectionHandled] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on rejectionHandled␊
      ␊
        Unhandled rejection in   Error: message␊
      ␊
        Uncaught exception in           at STACK TRACE␊
      ␊
        ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 unhandled rejection␊
        1 uncaught exception`,
    }

## [ava] [rejectionHandled] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on rejectionHandled␊
      ␊
        Unhandled rejection in   Error: message␊
      ␊
        Uncaught exception in           at STACK TRACE␊
      ␊
        ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 unhandled rejection␊
        1 uncaught exception`,
    }

## [ava] [uncaughtException] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on uncaughtException␊
      ␊
        Uncaught exception in   Error: message␊
      ␊
        ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 uncaught exception`,
    }

## [ava] [uncaughtException] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on uncaughtException␊
      ␊
        Uncaught exception in   Error: message␊
      ␊
        ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 uncaught exception`,
    }

## [ava] [uncaughtException] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on uncaughtException␊
      ␊
        Uncaught exception in   Error: message␊
      ␊
        ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 uncaught exception`,
    }

## [ava] [uncaughtException] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on uncaughtException␊
      ␊
        Uncaught exception in   Error: message␊
      ␊
        ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 uncaught exception`,
    }

## [ava] [unhandledRejection] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on unhandledRejection␊
      ␊
        Unhandled rejection in   Error: message␊
      ␊
      ␊
        1 test passed␊
        1 unhandled rejection`,
    }

## [ava] [unhandledRejection] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on unhandledRejection␊
      ␊
        Unhandled rejection in   Error: message␊
      ␊
      ␊
        1 test passed␊
        1 unhandled rejection`,
    }

## [ava] [unhandledRejection] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on unhandledRejection␊
      ␊
        Unhandled rejection in   Error: message␊
      ␊
      ␊
        1 test passed␊
        1 unhandled rejection`,
    }

## [ava] [unhandledRejection] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on unhandledRejection␊
      ␊
        Unhandled rejection in   Error: message␊
      ␊
      ␊
        1 test passed␊
        1 unhandled rejection`,
    }

## [ava] [warning] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `√ should make tests fail on warning␊
      ␊
        1 test passed`,
    }

## [ava] [warning] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on warning␊
      ␊
        Uncaught exception in   ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 uncaught exception`,
    }

## [ava] [warning] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on warning␊
      ␊
        Uncaught exception in       Error: message␊
                at STACK TRACE␊
      ␊
        ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 uncaught exception`,
    }

## [ava] [warning] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on warning␊
      ␊
        Uncaught exception in       Error: message␊
                at STACK TRACE␊
      ␊
        ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 uncaught exception`,
    }

## [jasmine] [multipleResolves] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      1 spec, 0 failures␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## [jasmine] [multipleResolves] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Error: test message␊
        Stack:␊
          ␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## [jasmine] [multipleResolves] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Error:  ×  multipleResolves (a promise was  multiple times)  Initially resolved with: { success: true }␊
        Stack:␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## [jasmine] [multipleResolves] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Error:  ×  multipleResolves (a promise was  multiple times)  Initially resolved with: { success: true }␊
        Stack:␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## [jasmine] [rejectionHandled] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Error: message␊
        Stack:␊
          Error: message␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## [jasmine] [rejectionHandled] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Error: message␊
        Stack:␊
          Error: message␊
              at <Jasmine>␊
        Message:␊
          Error: test message␊
        Stack:␊
          ␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## [jasmine] [rejectionHandled] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Error: message␊
        Stack:␊
          Error: message␊
              at <Jasmine>␊
        Message:␊
          Error:  ×  rejectionHandled (a promise was rejected and handled too late)  Error: message␊
        Stack:␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## [jasmine] [rejectionHandled] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Error: message␊
        Stack:␊
          Error: message␊
              at <Jasmine>␊
        Message:␊
          Error:  ×  rejectionHandled (a promise was rejected and handled too late)  Error: message␊
        Stack:␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## [jasmine] [uncaughtException] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Error: message␊
        Stack:␊
          Error: message␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## [jasmine] [uncaughtException] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Error: message␊
        Stack:␊
          Error: message␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## [jasmine] [uncaughtException] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Error: message␊
        Stack:␊
          Error: message␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## [jasmine] [uncaughtException] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Error: message␊
        Stack:␊
          Error: message␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## [jasmine] [unhandledRejection] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Error: message␊
        Stack:␊
          Error: message␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## [jasmine] [unhandledRejection] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Error: message␊
        Stack:␊
          Error: message␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## [jasmine] [unhandledRejection] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Error: message␊
        Stack:␊
          Error: message␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## [jasmine] [unhandledRejection] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Error: message␊
        Stack:␊
          Error: message␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## [jasmine] [warning] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      1 spec, 0 failures␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## [jasmine] [warning] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Error: test message␊
        Stack:␊
          ␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## [jasmine] [warning] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Error:  ×  warning  (500) Detail␊
        Stack:␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## [jasmine] [warning] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Error:  ×  warning  (500) Detail␊
        Stack:␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## [mocha] [multipleResolves] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `should make tests fail␊
          √ on multipleResolves␊
      ␊
      ␊
        1 passing`,
    }

## [mocha] [multipleResolves] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on multipleResolves␊
          1) on multipleResolves␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on multipleResolves:␊
           Uncaught test message`,
    }

## [mocha] [multipleResolves] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on multipleResolves␊
          1) on multipleResolves␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on multipleResolves:␊
           Uncaught  ×  multipleResolves (a promise was  multiple times)  Initially resolved with: { success: true }␊
            Then rejected with: Error: message␊
                at STACK TRACE`,
    }

## [mocha] [multipleResolves] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on multipleResolves␊
          1) on multipleResolves␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on multipleResolves:␊
           Uncaught  ×  multipleResolves (a promise was  multiple times)  Initially resolved with: { success: true }␊
            Then rejected with: Error: message␊
                at STACK TRACE`,
    }

## [mocha] [rejectionHandled] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `should make tests fail␊
          √ on rejectionHandled␊
      ␊
      ␊
        1 passing`,
    }

## [mocha] [rejectionHandled] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on rejectionHandled␊
          1) on rejectionHandled␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on rejectionHandled:␊
           Uncaught test message`,
    }

## [mocha] [rejectionHandled] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on rejectionHandled␊
          1) on rejectionHandled␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on rejectionHandled:␊
           Uncaught  ×  unhandledRejection (a promise was rejected but not handled)  Error: message␊
                at STACK TRACE`,
    }

## [mocha] [rejectionHandled] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on rejectionHandled␊
          1) on rejectionHandled␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on rejectionHandled:␊
           Uncaught  ×  unhandledRejection (a promise was rejected but not handled)  Error: message␊
                at STACK TRACE`,
    }

## [mocha] [uncaughtException] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on uncaughtException␊
          1) on uncaughtException␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on uncaughtException:␊
           Uncaught Error: message␊
            at STACK TRACE`,
    }

## [mocha] [uncaughtException] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on uncaughtException␊
          1) on uncaughtException␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on uncaughtException:␊
           Uncaught Error: message␊
            at STACK TRACE`,
    }

## [mocha] [uncaughtException] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on uncaughtException␊
          1) on uncaughtException␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on uncaughtException:␊
           Uncaught Error: message␊
            at STACK TRACE`,
    }

## [mocha] [uncaughtException] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on uncaughtException␊
          1) on uncaughtException␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on uncaughtException:␊
           Uncaught Error: message␊
            at STACK TRACE`,
    }

## [mocha] [unhandledRejection] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `should make tests fail␊
          √ on unhandledRejection␊
      ␊
      ␊
        1 passing`,
    }

## [mocha] [unhandledRejection] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on unhandledRejection␊
          1) on unhandledRejection␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on unhandledRejection:␊
           Uncaught test message`,
    }

## [mocha] [unhandledRejection] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on unhandledRejection␊
          1) on unhandledRejection␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on unhandledRejection:␊
           Uncaught  ×  unhandledRejection (a promise was rejected but not handled)  Error: message␊
                at STACK TRACE`,
    }

## [mocha] [unhandledRejection] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on unhandledRejection␊
          1) on unhandledRejection␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on unhandledRejection:␊
           Uncaught  ×  unhandledRejection (a promise was rejected but not handled)  Error: message␊
                at STACK TRACE`,
    }

## [mocha] [warning] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `should make tests fail␊
          √ on warning␊
      ␊
      ␊
        1 passing`,
    }

## [mocha] [warning] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on warning␊
          1) on warning␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on warning:␊
           Uncaught test message`,
    }

## [mocha] [warning] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on warning␊
          1) on warning␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on warning:␊
           Uncaught  ×  warning  (500) Detail␊
            Error: message␊
                at STACK TRACE`,
    }

## [mocha] [warning] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on warning␊
          1) on warning␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on warning:␊
           Uncaught  ×  warning  (500) Detail␊
            Error: message␊
                at STACK TRACE`,
    }

## [node-tap:classic] [multipleResolves] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: ` .. ␊
      total .................................................   1 passing␊
      ␊
        ok`,
    }

## [node-tap:classic] [multipleResolves] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: ` ..   not ok test message␊
          test: should make tests fail on multipleResolves␊
      ␊
      total .................................................   ␊
      ␊
        1 passing␊
        1 failing`,
    }

## [node-tap:classic] [multipleResolves] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: ` ..   not ok ×  multipleResolves (a promise was  multiple times)  Initially resolved with: { success: true }␊
          stack: |␊
            STACK TRACE␊
          test: should make tests fail on multipleResolves␊
      ␊
      total .................................................   ␊
      ␊
        1 passing␊
        1 failing`,
    }

## [node-tap:classic] [multipleResolves] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: ` ..   not ok ×  multipleResolves (a promise was  multiple times)  Initially resolved with: { success: true }␊
          stack: |␊
            STACK TRACE␊
          test: should make tests fail on multipleResolves␊
      ␊
      total .................................................   ␊
      ␊
        1 passing␊
        1 failing`,
    }

## [node-tap:classic] [rejectionHandled] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: ` ..   not ok message␊
          stack: |␊
            STACK TRACE␊
          tapCaught: unhandledRejection␊
          test: TAP␊
      ␊
      total .................................................   ␊
      ␊
        1 passing␊
        1 failing`,
    }

## [node-tap:classic] [rejectionHandled] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '{ [Error: test message] tapCaught: \'uncaughtException\', test: \'TAP\' }',
      stdout: ` ..   not ok message␊
          stack: |␊
            STACK TRACE␊
          tapCaught: unhandledRejection␊
          test: TAP␊
      ␊
      total .................................................   ␊
      ␊
        1 passing␊
        1 failing`,
    }

## [node-tap:classic] [rejectionHandled] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: `Error:  ×  rejectionHandled (a promise was rejected and handled too late)  Error: ␊
      ␊
      { name: 'TAP', tapCaught: 'uncaughtException', test: 'TAP' }`,
      stdout: ` ..   not ok message␊
          stack: |␊
            STACK TRACE␊
          tapCaught: unhandledRejection␊
          test: TAP␊
      ␊
      total .................................................   ␊
      ␊
        1 passing␊
        1 failing`,
    }

## [node-tap:classic] [rejectionHandled] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: `Error:  ×  rejectionHandled (a promise was rejected and handled too late)  Error: ␊
      ␊
      { name: 'TAP', tapCaught: 'uncaughtException', test: 'TAP' }`,
      stdout: ` ..   not ok message␊
          stack: |␊
            STACK TRACE␊
          tapCaught: unhandledRejection␊
          test: TAP␊
      ␊
      total .................................................   ␊
      ␊
        1 passing␊
        1 failing`,
    }

## [node-tap:classic] [uncaughtException] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: ` ..   not ok message␊
          stack: |␊
            defaultGetError ()␊
            nextTick ()␊
          at:␊
            ␊
            ␊
            file:       function: defaultGetError␊
          test: should make tests fail on uncaughtException␊
          source: |␊
            return new Error("message");␊
      ␊
      total .................................................   ␊
      ␊
        1 passing␊
        1 failing`,
    }

## [node-tap:classic] [uncaughtException] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: ` ..   not ok message␊
          stack: |␊
            defaultGetError ()␊
            nextTick ()␊
          at:␊
            ␊
            ␊
            file:       function: defaultGetError␊
          test: should make tests fail on uncaughtException␊
          source: |␊
            return new Error("message");␊
      ␊
      total .................................................   ␊
      ␊
        1 passing␊
        1 failing`,
    }

## [node-tap:classic] [uncaughtException] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: ` ..   not ok message␊
          stack: |␊
            defaultGetError ()␊
            nextTick ()␊
          at:␊
            ␊
            ␊
            file:       function: defaultGetError␊
          test: should make tests fail on uncaughtException␊
          source: |␊
            return new Error("message");␊
      ␊
      total .................................................   ␊
      ␊
        1 passing␊
        1 failing`,
    }

## [node-tap:classic] [uncaughtException] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: ` ..   not ok message␊
          stack: |␊
            defaultGetError ()␊
            nextTick ()␊
          at:␊
            ␊
            ␊
            file:       function: defaultGetError␊
          test: should make tests fail on uncaughtException␊
          source: |␊
            return new Error("message");␊
      ␊
      total .................................................   ␊
      ␊
        1 passing␊
        1 failing`,
    }

## [node-tap:classic] [unhandledRejection] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: ` ..   not ok message␊
          stack: |␊
            STACK TRACE␊
          tapCaught: unhandledRejection␊
          test: TAP␊
      ␊
      total .................................................   ␊
      ␊
        1 passing␊
        1 failing`,
    }

## [node-tap:classic] [unhandledRejection] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: ` ..   not ok message␊
          stack: |␊
            STACK TRACE␊
          tapCaught: unhandledRejection␊
          test: TAP␊
      ␊
      total .................................................   ␊
      ␊
        1 passing␊
        1 failing`,
    }

## [node-tap:classic] [unhandledRejection] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: ` ..   not ok message␊
          stack: |␊
            STACK TRACE␊
          tapCaught: unhandledRejection␊
          test: TAP␊
      ␊
      total .................................................   ␊
      ␊
        1 passing␊
        1 failing`,
    }

## [node-tap:classic] [unhandledRejection] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: ` ..   not ok message␊
          stack: |␊
            STACK TRACE␊
          tapCaught: unhandledRejection␊
          test: TAP␊
      ␊
      total .................................................   ␊
      ␊
        1 passing␊
        1 failing`,
    }

## [node-tap:classic] [warning] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: ` .. ␊
      total .................................................   1 passing␊
      ␊
        ok`,
    }

## [node-tap:classic] [warning] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: ` ..   not ok test message␊
          test: should make tests fail on warning␊
      ␊
      total .................................................   ␊
      ␊
        1 passing␊
        1 failing`,
    }

## [node-tap:classic] [warning] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: ` ..   not ok ×  warning  (500) Detail␊
          stack: |␊
            STACK TRACE␊
          test: should make tests fail on warning␊
      ␊
      total .................................................   ␊
      ␊
        1 passing␊
        1 failing`,
    }

## [node-tap:classic] [warning] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: ` ..   not ok ×  warning  (500) Detail␊
          stack: |␊
            STACK TRACE␊
          test: should make tests fail on warning␊
      ␊
      total .................................................   ␊
      ␊
        1 passing␊
        1 failing`,
    }

## [node-tap:tap] [multipleResolves] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `TAP version 13␊
      # Subtest:     # Subtest: should make tests fail on multipleResolves␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on multipleResolves # ␊
          ␊
          1..1␊
          # ␊
      ok 1 -  # ␊
      ␊
      1..1␊
      # `,
    }

## [node-tap:tap] [multipleResolves] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # Subtest:     # Subtest: should make tests fail on multipleResolves␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on multipleResolves # ␊
          ␊
          not ok 2 - test message # ␊
            ---␊
            test: should make tests fail on multipleResolves␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      not ok 1 -  # ␊
        ---␊
        timeout: 30000␊
        file:   childId: 0␊
        command:   args:␊
          - '-r'␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## [node-tap:tap] [multipleResolves] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # Subtest:     # Subtest: should make tests fail on multipleResolves␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on multipleResolves # ␊
          ␊
          not ok 2 - ×  multipleResolves (a promise was  multiple times)  Initially resolved with: { success: true } # ␊
            ---␊
            stack: |␊
              STACK TRACE␊
            test: should make tests fail on multipleResolves␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      not ok 1 -  # ␊
        ---␊
        timeout: 30000␊
        file:   childId: 0␊
        command:   args:␊
          - '-r'␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## [node-tap:tap] [multipleResolves] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # Subtest:     # Subtest: should make tests fail on multipleResolves␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on multipleResolves # ␊
          ␊
          not ok 2 - ×  multipleResolves (a promise was  multiple times)  Initially resolved with: { success: true } # ␊
            ---␊
            stack: |␊
              STACK TRACE␊
            test: should make tests fail on multipleResolves␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      not ok 1 -  # ␊
        ---␊
        timeout: 30000␊
        file:   childId: 0␊
        command:   args:␊
          - '-r'␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## [node-tap:tap] [rejectionHandled] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # Subtest:     # Subtest: should make tests fail on rejectionHandled␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on rejectionHandled # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: unhandledRejection␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      not ok 1 -  # ␊
        ---␊
        timeout: 30000␊
        file:   childId: 0␊
        command:   args:␊
          - '-r'␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## [node-tap:tap] [rejectionHandled] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '{ [Error: test message] tapCaught: \'uncaughtException\', test: \'TAP\' }',
      stdout: `TAP version 13␊
      # Subtest:     # Subtest: should make tests fail on rejectionHandled␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on rejectionHandled # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: unhandledRejection␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      not ok 1 -  # ␊
        ---␊
        timeout: 30000␊
        file:   childId: 0␊
        command:   args:␊
          - '-r'␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## [node-tap:tap] [rejectionHandled] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: `Error:  ×  rejectionHandled (a promise was rejected and handled too late)  Error: ␊
      ␊
      { name: 'TAP', tapCaught: 'uncaughtException', test: 'TAP' }`,
      stdout: `TAP version 13␊
      # Subtest:     # Subtest: should make tests fail on rejectionHandled␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on rejectionHandled # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: unhandledRejection␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      not ok 1 -  # ␊
        ---␊
        timeout: 30000␊
        file:   childId: 0␊
        command:   args:␊
          - '-r'␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## [node-tap:tap] [rejectionHandled] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: `Error:  ×  rejectionHandled (a promise was rejected and handled too late)  Error: ␊
      ␊
      { name: 'TAP', tapCaught: 'uncaughtException', test: 'TAP' }`,
      stdout: `TAP version 13␊
      # Subtest:     # Subtest: should make tests fail on rejectionHandled␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on rejectionHandled # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: unhandledRejection␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      not ok 1 -  # ␊
        ---␊
        timeout: 30000␊
        file:   childId: 0␊
        command:   args:␊
          - '-r'␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## [node-tap:tap] [uncaughtException] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # Subtest:     # Subtest: should make tests fail on uncaughtException␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on uncaughtException # ␊
          ␊
          not ok 2 - message # ␊
            ---␊
            stack: |␊
              defaultGetError ()␊
              nextTick ()␊
            at:␊
              ␊
              ␊
              file:         function: defaultGetError␊
            test: should make tests fail on uncaughtException␊
            source: |␊
              return new Error("message");␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      not ok 1 -  # ␊
        ---␊
        timeout: 30000␊
        file:   childId: 0␊
        command:   args:␊
          - '-r'␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## [node-tap:tap] [uncaughtException] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # Subtest:     # Subtest: should make tests fail on uncaughtException␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on uncaughtException # ␊
          ␊
          not ok 2 - message # ␊
            ---␊
            stack: |␊
              defaultGetError ()␊
              nextTick ()␊
            at:␊
              ␊
              ␊
              file:         function: defaultGetError␊
            test: should make tests fail on uncaughtException␊
            source: |␊
              return new Error("message");␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      not ok 1 -  # ␊
        ---␊
        timeout: 30000␊
        file:   childId: 0␊
        command:   args:␊
          - '-r'␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## [node-tap:tap] [uncaughtException] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # Subtest:     # Subtest: should make tests fail on uncaughtException␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on uncaughtException # ␊
          ␊
          not ok 2 - message # ␊
            ---␊
            stack: |␊
              defaultGetError ()␊
              nextTick ()␊
            at:␊
              ␊
              ␊
              file:         function: defaultGetError␊
            test: should make tests fail on uncaughtException␊
            source: |␊
              return new Error("message");␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      not ok 1 -  # ␊
        ---␊
        timeout: 30000␊
        file:   childId: 0␊
        command:   args:␊
          - '-r'␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## [node-tap:tap] [uncaughtException] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # Subtest:     # Subtest: should make tests fail on uncaughtException␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on uncaughtException # ␊
          ␊
          not ok 2 - message # ␊
            ---␊
            stack: |␊
              defaultGetError ()␊
              nextTick ()␊
            at:␊
              ␊
              ␊
              file:         function: defaultGetError␊
            test: should make tests fail on uncaughtException␊
            source: |␊
              return new Error("message");␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      not ok 1 -  # ␊
        ---␊
        timeout: 30000␊
        file:   childId: 0␊
        command:   args:␊
          - '-r'␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## [node-tap:tap] [unhandledRejection] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # Subtest:     # Subtest: should make tests fail on unhandledRejection␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on unhandledRejection # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: unhandledRejection␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      not ok 1 -  # ␊
        ---␊
        timeout: 30000␊
        file:   childId: 0␊
        command:   args:␊
          - '-r'␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## [node-tap:tap] [unhandledRejection] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # Subtest:     # Subtest: should make tests fail on unhandledRejection␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on unhandledRejection # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: unhandledRejection␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      not ok 1 -  # ␊
        ---␊
        timeout: 30000␊
        file:   childId: 0␊
        command:   args:␊
          - '-r'␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## [node-tap:tap] [unhandledRejection] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # Subtest:     # Subtest: should make tests fail on unhandledRejection␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on unhandledRejection # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: unhandledRejection␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      not ok 1 -  # ␊
        ---␊
        timeout: 30000␊
        file:   childId: 0␊
        command:   args:␊
          - '-r'␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## [node-tap:tap] [unhandledRejection] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # Subtest:     # Subtest: should make tests fail on unhandledRejection␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on unhandledRejection # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: unhandledRejection␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      not ok 1 -  # ␊
        ---␊
        timeout: 30000␊
        file:   childId: 0␊
        command:   args:␊
          - '-r'␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## [node-tap:tap] [warning] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `TAP version 13␊
      # Subtest:     # Subtest: should make tests fail on warning␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on warning # ␊
          ␊
          1..1␊
          # ␊
      ok 1 -  # ␊
      ␊
      1..1␊
      # `,
    }

## [node-tap:tap] [warning] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # Subtest:     # Subtest: should make tests fail on warning␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on warning # ␊
          ␊
          not ok 2 - test message # ␊
            ---␊
            test: should make tests fail on warning␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      not ok 1 -  # ␊
        ---␊
        timeout: 30000␊
        file:   childId: 0␊
        command:   args:␊
          - '-r'␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## [node-tap:tap] [warning] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # Subtest:     # Subtest: should make tests fail on warning␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on warning # ␊
          ␊
          not ok 2 - ×  warning  (500) Detail # ␊
            ---␊
            stack: |␊
              STACK TRACE␊
            test: should make tests fail on warning␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      not ok 1 -  # ␊
        ---␊
        timeout: 30000␊
        file:   childId: 0␊
        command:   args:␊
          - '-r'␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## [node-tap:tap] [warning] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # Subtest:     # Subtest: should make tests fail on warning␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on warning # ␊
          ␊
          not ok 2 - ×  warning  (500) Detail # ␊
            ---␊
            stack: |␊
              STACK TRACE␊
            test: should make tests fail on warning␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      not ok 1 -  # ␊
        ---␊
        timeout: 30000␊
        file:   childId: 0␊
        command:   args:␊
          - '-r'␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## [tape] [multipleResolves] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on multipleResolves␊
      ok 1 (unnamed assert)␊
      ␊
      1..1␊
      # tests 1␊
      # pass  1␊
      ␊
      # ok`,
    }

## [tape] [multipleResolves] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on multipleResolves␊
      ok 1 (unnamed assert)␊
      # test message␊
      not ok 2 Error: test message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [Error: test message]␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## [tape] [multipleResolves] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on multipleResolves␊
      ok 1 (unnamed assert)␊
      #  ×  multipleResolves (a promise was  multiple times)  Initially resolved with: { success: true }␊
      not ok 2 Error: × multipleResolves (a promise was  multiple times) Initially resolved with: { success: true }␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [Error:  ×  multipleResolves (a promise was  multiple times)  Initially resolved with: { success: true }]␊
          stack: |-␊
                Then rejected with: Error: message␊
                    at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## [tape] [multipleResolves] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on multipleResolves␊
      ok 1 (unnamed assert)␊
      #  ×  multipleResolves (a promise was  multiple times)  Initially resolved with: { success: true }␊
      not ok 2 Error: × multipleResolves (a promise was  multiple times) Initially resolved with: { success: true }␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [Error:  ×  multipleResolves (a promise was  multiple times)  Initially resolved with: { success: true }]␊
          stack: |-␊
                Then rejected with: Error: message␊
                    at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## [tape] [rejectionHandled] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on rejectionHandled␊
      ok 1 (unnamed assert)␊
      ␊
      1..1␊
      # tests 1␊
      # pass  1␊
      ␊
      # ok`,
    }

## [tape] [rejectionHandled] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on rejectionHandled␊
      ok 1 (unnamed assert)␊
      # test message␊
      not ok 2 Error: test message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [Error: test message]␊
        ...␊
      # test message␊
      not ok 3 Error: test message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [Error: test message]␊
        ...␊
      ␊
      1..3␊
      # tests 3␊
      # pass  1␊
      # fail  2`,
    }

## [tape] [rejectionHandled] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on rejectionHandled␊
      ok 1 (unnamed assert)␊
      #  ×  unhandledRejection (a promise was rejected but not handled)  Error: message␊
      not ok 2 Error: × unhandledRejection (a promise was rejected but not handled) Error: message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [Error:  ×  unhandledRejection (a promise was rejected but not handled)  Error: message]␊
          stack: |-␊
                    at STACK TRACE␊
        ...␊
      #  ×  rejectionHandled (a promise was rejected and handled too late)  Error: message␊
      not ok 3 Error: × rejectionHandled (a promise was rejected and handled too late) Error: message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [Error:  ×  rejectionHandled (a promise was rejected and handled too late)  Error: message]␊
          stack: |-␊
                    at STACK TRACE␊
        ...␊
      ␊
      1..3␊
      # tests 3␊
      # pass  1␊
      # fail  2`,
    }

## [tape] [rejectionHandled] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on rejectionHandled␊
      ok 1 (unnamed assert)␊
      #  ×  unhandledRejection (a promise was rejected but not handled)  Error: message␊
      not ok 2 Error: × unhandledRejection (a promise was rejected but not handled) Error: message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [Error:  ×  unhandledRejection (a promise was rejected but not handled)  Error: message]␊
          stack: |-␊
                    at STACK TRACE␊
        ...␊
      #  ×  rejectionHandled (a promise was rejected and handled too late)  Error: message␊
      not ok 3 Error: × rejectionHandled (a promise was rejected and handled too late) Error: message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [Error:  ×  rejectionHandled (a promise was rejected and handled too late)  Error: message]␊
          stack: |-␊
                    at STACK TRACE␊
        ...␊
      ␊
      1..3␊
      # tests 3␊
      # pass  1␊
      # fail  2`,
    }

## [tape] [uncaughtException] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on uncaughtException␊
      ok 1 (unnamed assert)␊
      ␊
      1..1␊
      # tests 1␊
      # pass  1␊
      ␊
      # ok`,
    }

## [tape] [uncaughtException] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on uncaughtException␊
      ok 1 (unnamed assert)␊
      # test message␊
      not ok 2 Error: test message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [Error: test message]␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## [tape] [uncaughtException] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on uncaughtException␊
      ok 1 (unnamed assert)␊
      #  ×  uncaughtException (an exception was thrown but not caught)  Error: message␊
      not ok 2 Error: × uncaughtException (an exception was thrown but not caught) Error: message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [Error:  ×  uncaughtException (an exception was thrown but not caught)  Error: message]␊
          stack: |-␊
                    at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## [tape] [uncaughtException] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on uncaughtException␊
      ok 1 (unnamed assert)␊
      #  ×  uncaughtException (an exception was thrown but not caught)  Error: message␊
      not ok 2 Error: × uncaughtException (an exception was thrown but not caught) Error: message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [Error:  ×  uncaughtException (an exception was thrown but not caught)  Error: message]␊
          stack: |-␊
                    at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## [tape] [unhandledRejection] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on unhandledRejection␊
      ok 1 (unnamed assert)␊
      ␊
      1..1␊
      # tests 1␊
      # pass  1␊
      ␊
      # ok`,
    }

## [tape] [unhandledRejection] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on unhandledRejection␊
      ok 1 (unnamed assert)␊
      # test message␊
      not ok 2 Error: test message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [Error: test message]␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## [tape] [unhandledRejection] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on unhandledRejection␊
      ok 1 (unnamed assert)␊
      #  ×  unhandledRejection (a promise was rejected but not handled)  Error: message␊
      not ok 2 Error: × unhandledRejection (a promise was rejected but not handled) Error: message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [Error:  ×  unhandledRejection (a promise was rejected but not handled)  Error: message]␊
          stack: |-␊
                    at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## [tape] [unhandledRejection] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on unhandledRejection␊
      ok 1 (unnamed assert)␊
      #  ×  unhandledRejection (a promise was rejected but not handled)  Error: message␊
      not ok 2 Error: × unhandledRejection (a promise was rejected but not handled) Error: message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [Error:  ×  unhandledRejection (a promise was rejected but not handled)  Error: message]␊
          stack: |-␊
                    at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## [tape] [warning] should allow overriding 'opts.level'

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on warning␊
      ok 1 (unnamed assert)␊
      ␊
      1..1␊
      # tests 1␊
      # pass  1␊
      ␊
      # ok`,
    }

## [tape] [warning] should allow overriding options not specified by runner

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on warning␊
      ok 1 (unnamed assert)␊
      # test message␊
      not ok 2 Error: test message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [Error: test message]␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## [tape] [warning] should make tests fails

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on warning␊
      ok 1 (unnamed assert)␊
      #  ×  warning  (500) Detail␊
      not ok 2 Error: × warning (500) Detail␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [Error:  ×  warning  (500) Detail]␊
          stack: |-␊
                Error: message␊
                    at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## [tape] [warning] should work with the -r flag

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on warning␊
      ok 1 (unnamed assert)␊
      #  ×  warning  (500) Detail␊
      not ok 2 Error: × warning (500) Detail␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [Error:  ×  warning  (500) Detail]␊
          stack: |-␊
                Error: message␊
                    at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }
